import{R as h,d as L,a as $,u as q,r as y,b as V,j as e,e as m}from"./index-C8pBA-N9.js";var A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S=h.createContext&&h.createContext(A),I=["attr","size","title"];function _(t,r){if(t==null)return{};var a=R(t,r),l,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)l=n[i],!(r.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(t,l)&&(a[l]=t[l])}return a}function R(t,r){if(t==null)return{};var a={},l=Object.keys(t),i,n;for(n=0;n<l.length;n++)i=l[n],!(r.indexOf(i)>=0)&&(a[i]=t[i]);return a}function x(){return x=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},x.apply(this,arguments)}function B(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);r&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,l)}return a}function f(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?B(Object(a),!0).forEach(function(l){U(t,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(a,l))})}return t}function U(t,r,a){return r=Z(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Z(t){var r=W(t,"string");return typeof r=="symbol"?r:String(r)}function W(t,r){if(typeof t!="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var l=a.call(t,r||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function M(t){return t&&t.map((r,a)=>h.createElement(r.tag,f({key:a},r.attr),M(r.child)))}function d(t){return r=>h.createElement(K,x({attr:f({},t.attr)},r),M(t.child))}function K(t){var r=a=>{var{attr:l,size:i,title:n}=t,p=_(t,I),g=i||a.size||"1em",o;return a.className&&(o=a.className),t.className&&(o=(o?o+" ":"")+t.className),h.createElement("svg",x({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,l,p,{className:o,style:f(f({color:t.color||a.color},a.style),t.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),n&&h.createElement("title",null,n),t.children)};return S!==void 0?h.createElement(S.Consumer,null,a=>r(a)):r(A)}function G(t){return d({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#CFD8DC",d:"M5,38V14h38v24c0,2.2-1.8,4-4,4H9C6.8,42,5,40.2,5,38z"},child:[]},{tag:"path",attr:{fill:"#F44336",d:"M43,10v6H5v-6c0-2.2,1.8-4,4-4h30C41.2,6,43,7.8,43,10z"},child:[]},{tag:"g",attr:{fill:"#B71C1C"},child:[{tag:"circle",attr:{cx:"33",cy:"10",r:"3"},child:[]},{tag:"circle",attr:{cx:"15",cy:"10",r:"3"},child:[]}]},{tag:"g",attr:{fill:"#B0BEC5"},child:[{tag:"path",attr:{d:"M33,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C35,3.9,34.1,3,33,3z"},child:[]},{tag:"path",attr:{d:"M15,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C17,3.9,16.1,3,15,3z"},child:[]}]},{tag:"g",attr:{fill:"#90A4AE"},child:[{tag:"rect",attr:{x:"13",y:"20",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"19",y:"20",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"25",y:"20",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"31",y:"20",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"13",y:"26",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"19",y:"26",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"25",y:"26",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"31",y:"26",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"13",y:"32",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"19",y:"32",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"25",y:"32",width:"4",height:"4"},child:[]},{tag:"rect",attr:{x:"31",y:"32",width:"4",height:"4"},child:[]}]}]})(t)}function Y(t){return d({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"circle",attr:{fill:"#00ACC1",cx:"24",cy:"24",r:"20"},child:[]},{tag:"circle",attr:{fill:"#eee",cx:"24",cy:"24",r:"16"},child:[]},{tag:"rect",attr:{x:"23",y:"11",width:"2",height:"13"},child:[]},{tag:"rect",attr:{x:"26.1",y:"22.7",transform:"matrix(-.707 .707 -.707 -.707 65.787 27.25)",width:"2.3",height:"9.2"},child:[]},{tag:"circle",attr:{cx:"24",cy:"24",r:"2"},child:[]},{tag:"circle",attr:{fill:"#00ACC1",cx:"24",cy:"24",r:"1"},child:[]}]})(t)}function P(t){return d({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#8BC34A",d:"M37,39H11l-6,6V11c0-3.3,2.7-6,6-6h26c3.3,0,6,2.7,6,6v22C43,36.3,40.3,39,37,39z"},child:[]}]})(t)}function z(t){return d({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FF9800",d:"M22,38c-4.8,0-5-7-5-7v-6h10v6C27,31,26.8,38,22,38z"},child:[]},{tag:"g",attr:{fill:"#FFA726"},child:[{tag:"circle",attr:{cx:"31",cy:"19",r:"2"},child:[]},{tag:"circle",attr:{cx:"13",cy:"19",r:"2"},child:[]}]},{tag:"path",attr:{fill:"#FFB74D",d:"M31,13c0-7.6-18-5-18,0c0,1.1,0,5.9,0,7c0,5,4,9,9,9s9-4,9-9C31,18.9,31,14.1,31,13z"},child:[]},{tag:"path",attr:{fill:"#424242",d:"M22,4c-6.1,0-10,4.9-10,11c0,0.8,0,2.3,0,2.3l2,1.7v-5l12-4l4,4v5l2-1.7c0,0,0-1.5,0-2.3c0-4-1-8-6-9l-1-2 H22z"},child:[]},{tag:"g",attr:{fill:"#784719"},child:[{tag:"circle",attr:{cx:"26",cy:"19",r:"1"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"1"},child:[]}]},{tag:"path",attr:{fill:"#009688",d:"M27,31L27,31c0,0-1.8,2-5,2s-5-2-5-2S6,33,6,44h32C38,33,27,31,27,31z"},child:[]},{tag:"g",attr:{fill:"#FF9800"},child:[{tag:"rect",attr:{x:"36.1",y:"6.1",transform:"matrix(.707 .707 -.707 .707 19.787 -25.77)",width:"9.9",height:"9.9"},child:[]},{tag:"rect",attr:{x:"36",y:"6",width:"10",height:"10"},child:[]}]},{tag:"circle",attr:{fill:"#FFEB3B",cx:"41",cy:"11",r:"3"},child:[]}]})(t)}function J(t){return d({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Edit"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M3.548,20.938h16.9a.5.5,0,0,0,0-1H3.548a.5.5,0,0,0,0,1Z"},child:[]},{tag:"path",attr:{d:"M9.71,17.18a2.587,2.587,0,0,0,1.12-.65l9.54-9.54a1.75,1.75,0,0,0,0-2.47l-.94-.93a1.788,1.788,0,0,0-2.47,0L7.42,13.12a2.473,2.473,0,0,0-.64,1.12L6.04,17a.737.737,0,0,0,.19.72.767.767,0,0,0,.53.22Zm.41-1.36a1.468,1.468,0,0,1-.67.39l-.97.26-1-1,.26-.97a1.521,1.521,0,0,1,.39-.67l.38-.37,1.99,1.99Zm1.09-1.08L9.22,12.75l6.73-6.73,1.99,1.99Zm8.45-8.45L18.65,7.3,16.66,5.31l1.01-1.02a.748.748,0,0,1,1.06,0l.93.94A.754.754,0,0,1,19.66,6.29Z"},child:[]}]}]}]})(t)}function Q(t){return d({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function X(t){return d({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function tt(t){return d({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.426 11.095-17-8A.999.999 0 0 0 3.03 4.242L4.969 12 3.03 19.758a.998.998 0 0 0 1.396 1.147l17-8a1 1 0 0 0 0-1.81zM5.481 18.197l.839-3.357L12 12 6.32 9.16l-.839-3.357L18.651 12l-13.17 6.197z"},child:[]}]})(t)}function rt(){var j,N,C;const{state:t}=L();let{currentUser:r}=$(c=>c.userAuthorLoginReducer),{register:a,handleSubmit:l,formState:{errors:i}}=q(),[n,p]=y.useState(null),g=V(),[o,v]=y.useState(!1),[u,w]=y.useState(t);async function k(c){let s={...t,...c};s.dateOfModification=new Date,delete s._id,(await m.put(`${window.location.origin}/author-api/update-article`,s)).data.message==="Article updated Successfully"&&(v(!1),g(`/author-profile/article/${s.articleId}`,{state:s}))}async function E(){(await m.put(`${window.location.origin}/author-api/article/soft-delete/${u.articleId}`)).data.message==="Article deleted Successfully"&&w({...u,status:!1})}async function F(){(await m.put(`${window.location.origin}/author-api/article/restore/${u.articleId}`)).data.message==="Article restored Successfully"&&w({...u,status:!0})}async function D(c){c.username=r.username,(await m.post(`${window.location.origin}/user-api/comment/${u.articleId}`,c)).data.message==="Comment posted"&&p(c)}function T(){v(!0)}function b(c){let s=new Date(c).getUTCDate(),O=new Date(c).getUTCMonth()+1,H=new Date(c).getUTCFullYear();return`${s}/${O}/${H}`}return e.jsx("div",{className:"bg-blue-200 px-3 py-4 min-w-48 min-h-96 w-full",children:o===!1?e.jsxs("div",{className:"main",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"py-2 text-2xl font-mono font-semibold",children:t.title}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx(G,{className:"text-xl inline pe-1"}),"Created on ",b(t.dateOfCreation)]}),e.jsxs("p",{className:"text-sm",children:[e.jsx(Y,{className:"text-xl inline pe-1"}),"Modified on ",b(t.dateOfModification)]})]})]}),e.jsx("div",{className:"",children:r.userType==="author"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:T,className:"border border-black rounded bg-orange-300 px-1 py-0.5",children:e.jsx(J,{className:"text-xl inline"})}),u.status===!0?e.jsx("button",{onClick:E,className:"border border-black rounded bg-red-400 px-1 py-0.5",children:e.jsx(Q,{className:"text-xl inline"})}):e.jsx("button",{onClick:F,className:"border border-black rounded bg-green-400 px-1 py-0.5",children:e.jsx(X,{className:"text-xl inline"})})]})})]}),e.jsx("p",{className:"py-4 pe-4",style:{whiteSpace:"pre-line"},children:t.content}),e.jsx("p",{className:"text-2xl font-serif font-semibold",children:"Comments"}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"py-3",children:r.userType==="user"&&e.jsxs("form",{onSubmit:l(D),children:[e.jsx("input",{type:"text",className:"w-96 sm:w-5/6 md:w-4/6 lg:w-3/6 xl:w-2/6 py-1 ps-2 pe-1 text-md border-2 border-black rounded ",placeholder:"Add a comment...",...a("comment",{required:!0})}),e.jsx("button",{type:"submit",className:"rounded px-1 py-0.5",children:e.jsx(tt,{className:"text-3xl inline"})})]})}),n!==null&&e.jsxs("div",{className:"w-full sm:w-5/6 md:w-4/6 lg:w-3/6 xl:w-2/6 bg-slate-100 m-1 px-2 py-1 text-lg rounded-lg",children:[e.jsxs("p",{className:"w-full",style:{color:"dodgerblue",textTransform:"capitalize"},children:[e.jsx(z,{className:"text-xl inline pe-1"})," ",n.username]}),e.jsxs("p",{className:"w-full",style:{fontFamily:"fantasy",color:"lightseagreen"},children:[e.jsx(P,{className:"text-xl inline pe-1"}),n.comment]})]}),e.jsx("div",{className:"",children:t.comments.length===0?e.jsx("p",{className:"",children:"No Comments..."}):t.comments.map((c,s)=>e.jsxs("div",{className:"w-full sm:w-5/6 md:w-4/6 lg:w-3/6 xl:w-2/6 bg-slate-100 m-1 px-2 py-1 text-lg rounded-lg",children:[e.jsxs("p",{className:"w-full",style:{color:"dodgerblue",textTransform:"capitalize"},children:[e.jsx(z,{className:"text-xl inline pe-1"})," ",c.username]}),e.jsxs("p",{className:"w-full",style:{fontFamily:"fantasy",color:"lightseagreen"},children:[e.jsx(P,{className:"text-xl inline pe-1"}),c.comment]})]},s))})]})]}):e.jsx("div",{className:"bg-blue-200 py-16 min-h-96",children:e.jsx("div",{className:"m-auto  w-10/12 md:w-8/12 lg:w-7/12 xl:w-5/12  rounded-lg shadow-2xl px-2 py-4 bg-white ",children:e.jsxs("form",{onSubmit:l(k),className:"px-5 py-2",children:[e.jsx("h1",{className:"mb-3 text-3xl font-bold font-mono text-center",children:"Edit Article"}),e.jsxs("div",{className:"text-center font-sans",children:[((j=i.title)==null?void 0:j.type)==="required"&&e.jsx("p",{className:"text-red-600",children:"*Username required"}),((N=i.category)==null?void 0:N.type)==="required"&&e.jsx("p",{className:"text-red-600",children:"*Category required"}),((C=i.content)==null?void 0:C.type)==="required"&&e.jsx("p",{className:"text-red-600",children:"*Content required"})]}),e.jsxs("div",{className:"flex flex-col gap-5 my-5",children:[e.jsx("input",{className:"border-black border-2 rounded-md px-2 py-1 text-center text-lg",type:"text",name:"title",id:"title",placeholder:"Title",defaultValue:t.title,...a("title",{required:!0})}),e.jsxs("select",{name:"category",id:"category",className:"border-2 border-black rounded-md px-3 py-1 ",...a("category",{required:!0}),defaultValue:t.category,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"--Select Category--"}),e.jsx("option",{value:"Programming",children:"Programming"}),e.jsx("option",{value:"Rocket Science",children:"Rocket Science"}),e.jsx("option",{value:"Biology",children:"Biology"}),e.jsx("option",{value:"Physics",children:"Physics"}),e.jsx("option",{value:"Scientists",children:"Scientists"}),e.jsx("option",{value:"Business",children:"Business"})]}),e.jsx("textarea",{name:"content",id:"content",cols:"30",rows:"8",defaultValue:t.content,className:"border-2 border-black px-1 py-1 rounded-lg font-serif ",placeholder:"Type your Content",...a("content",{required:!0})})]}),e.jsx("button",{type:"submit",className:"shadow-sm bg-green-400 hover:bg-green-500 font-medium rounded-lg px-3 py-1 block m-auto mt-4",children:"Save Article"})]})})})})}export{rt as default};
